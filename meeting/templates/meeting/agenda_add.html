{% extends "nav.html" %}

{% load django_bootstrap5 %}

{% bootstrap_messages %}

{% block subtitle %}-增加新日程{% endblock %}
{% block main %}
<div class="container">
  <div class="row justify-content-center"><div class="col-md-6">
  <div class="card">
    <div class="card-header">增加新日程</div>
    <div class="card-body">
    {% for err in errors %}
    <div class="alert alert-danger" role="alert">
        <h4>{{ err }}</h4>
    </div>
    {% endfor %}
      <form action="" method="post">
    {% csrf_token %}
    {% bootstrap_form form %}
    {% bootstrap_button "提交" type="submit" class="btn btn-primary" %}
      </form>
    </div>
  </div>
  </div>
</div></div>
{% endblock %}
{% block ac4 %}active{% endblock %}
{% block morescripts %}
<script>
window.addEventListener('DOMContentLoaded', function() {
  var radio0 = document.getElementById('id_repeatable_0');
  var label = document.querySelector('label[for="id_date_year"]');
  var check = document.getElementById('id_week');
  if (radio0) {
    radio0.addEventListener('change', function() {
      if (radio0.checked) {
        label.textContent = "日期：";
        check.disabled = true;
      }
    });
  }
  var radio1 = document.getElementById('id_repeatable_1');
  if (radio1) {
    radio1.addEventListener('change', function() {
      if (radio1.checked) {
        label.textContent = "截止时间：";
        check.disabled = false;
      }
    });
  }
  var element = document.getElementById("id_date_year");
  if (element) {
    var parent = element.parentNode;
    parent.classList.add("input-group");
  }
});
</script>
{% endblock %}
